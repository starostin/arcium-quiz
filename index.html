<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Arcium Quiz</title>
    <style>
        body {
            font-family: 'Arial', sans-serif;
            background-color: #0A0A0A; /* Arcium dark background */
            background-image: url('https://cdn.prod.website-files.com/67086aa28c40f80ff00c0a83/67086aa28c40f80ff00c0ad3_WIA%20Hero%20Dots.svg');
            background-size: cover;
            background-position: center;
            background-attachment: fixed;
            color: #E6E6E6; /* Light text for contrast */
            margin: 0;
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
            overflow-x: hidden;
        }
        .container {
            max-width: 800px;
            width: 90%;
            background: rgba(26, 26, 26, 0.9); /* Semi-transparent dark card */
            padding: 20px;
            border-radius: 15px;
            box-shadow: 0 8px 16px rgba(0, 0, 0, 0.5);
            text-align: center;
            animation: fadeIn 1s ease-in-out;
        }
        h1 {
            color: #6c44fc; /* Arcium purple accent */
            font-size: 2.5em;
            margin-bottom: 20px;
            animation: slideIn 0.8s ease-out;
        }
        .level-selection {
            display: flex;
            flex-direction: column;
            gap: 15px;
            margin: 20px 0;
        }
        .level-btn {
            background: #2A2A2A;
            padding: 15px;
            border-radius: 10px;
            cursor: pointer;
            font-size: 1.2em;
            color: #E6E6E6;
            transition: transform 0.3s, background 0.3s;
            margin: 10px; /* Margin for spacing */
        }
        .level-btn:hover {
            transform: scale(1.05);
            background: #6c44fc;
        }
        .high-scores {
            font-size: 1.1em;
            color: #E6E6E6;
            margin-top: 20px;
        }
        .high-scores p {
            margin: 5px 0;
        }
        .level {
            font-size: 1.3em;
            color: #6c44fc;
            margin-bottom: 10px;
        }
        .question {
            font-size: 1.5em;
            margin: 20px 0;
            color: #E6E6E6;
            animation: fadeInUp 0.6s ease-out;
        }
        .options {
            display: flex;
            flex-direction: column;
            gap: 10px;
        }
        .option {
            background: #2A2A2A; /* Option button background */
            padding: 15px;
            border-radius: 10px;
            cursor: pointer;
            font-size: 1.1em;
            transition: transform 0.3s, background 0.3s;
            color: #E6E6E6;
        }
        .option:hover {
            transform: scale(1.05);
            background: #6c44fc; /* Hover purple */
        }
        .option.correct {
            background: #00FF85; /* Green for correct */
            animation: pulse 0.5s;
        }
        .option.incorrect {
            background: #FF4D4D; /* Red for incorrect */
            animation: shake 0.3s;
        }
        .option.disabled {
            pointer-events: none;
            opacity: 0.6;
        }
        .option.selected {
            outline: 2px solid #6c44fc;
            background: #3a2f66;
        }
        .option.correct-multi {
            outline: 2px solid #6c44fc;
            background: #3a2f66;
        }
        .score {
            font-size: 1.3em;
            margin: 20px 0;
            color: #6c44fc;
        }
        .timer {
            font-size: 1.2em;
            color: #E6E6E6;
            margin-bottom: 10px;
        }
        .progress {
            font-size: 1.1em;
            color: #E6E6E6;
            margin-bottom: 10px;
        }
        .next-btn, .restart-btn {
            background: #6c44fc;
            color: #E6E6E6;
            padding: 10px 20px;
            border: none;
            border-radius: 10px;
            cursor: pointer;
            font-size: 1.1em;
            transition: transform 0.3s, background 0.3s;
            margin: 10px;
        }
        .next-btn:hover, .restart-btn:hover {
            transform: scale(1.1);
            background: #4a2db5; /* Darker purple on hover */
        }
        .result {
            font-size: 1.8em;
            margin: 20px 0;
            animation: bounceIn 0.8s;
        }
        .achievement {
            font-size: 1.4em;
            color: #00FF85;
            margin: 10px 0;
            animation: fadeIn 1s ease-in-out;
        }
        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }
        @keyframes slideIn {
            from { transform: translateY(-50px); opacity: 0; }
            to { transform: translateY(0); opacity: 1; }
        }
        @keyframes fadeInUp {
            from { transform: translateY(20px); opacity: 0; }
            to { transform: translateY(0); opacity: 1; }
        }
        @keyframes pulse {
            0% { transform: scale(1); }
            50% { transform: scale(1.1); }
            100% { transform: scale(1); }
        }
        @keyframes shake {
            0% { transform: translateX(0); }
            25% { transform: translateX(-10px); }
            50% { transform: translateX(10px); }
            75% { transform: translateX(-10px); }
            100% { transform: translateX(0); }
        }
        @keyframes bounceIn {
            0% { transform: scale(0.3); opacity: 0; }
            50% { transform: scale(1.05); opacity: 1; }
            100% { transform: scale(1); opacity: 1; }
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>Arcium Quiz</h1>
        <div class="level-selection" id="level-selection">
            <h2>Select Topic</h2>
            <div class="level-btn" data-level="general" id="level-btn-general">General Info (0)</div>
            <div class="level-btn" data-level="splToken" id="level-btn-splToken">Confidential SPL Token (0)</div>
            <div class="level-btn" data-level="mpcProtocols" id="level-btn-mpcProtocols">Main MPC Protocols (0)</div>
            <div class="high-scores" id="high-scores">
                <p>Total High Score: <span id="total-high-score">0</span></p>
            </div>
        </div>
        <div class="quiz-content" id="quiz-content" style="display: none;">
            <div class="score">Score: <span id="score">0</span></div>
            <div class="level" id="level"></div>
            <div class="timer" id="timer">Time: 30s</div>
            <div class="progress" id="progress">Question: 1/1</div>
            <div class="question" id="question"></div>
            <div class="options" id="options"></div>
            <div class="achievement" id="achievement" style="display: none;"></div>
            <button class="next-btn" id="next-btn" style="display: none;">Next Question</button>
            <div class="result" id="result" style="display: none;"></div>
            <button class="restart-btn" id="restart-btn" style="display: none;">Restart Quiz</button>
        </div>
    </div>

    <script>
        const questions = {
            general: [
                {
                    question: "What is the primary goal of Arcium?",
                    options: [
                        "To create a new blockchain",
                        "To become the foundational infrastructure for computation",
                        "To develop a centralized cloud service",
                        "To focus solely on AI applications"
                    ],
                    correct: 1
                },
                {
                    question: "Which state of data is vulnerable without Arcium's technology?",
                    options: [
                        "Data at rest",
                        "Data in transit",
                        "Data in use",
                        "All of the above"
                    ],
                    correct: 2
                },
                {
                    question: "What type of computing does Arcium enable?",
                    options: [
                        "Quantum computing",
                        "Confidential computing",
                        "Edge computing",
                        "Distributed ledger computing"
                    ],
                    correct: 1
                },
                {
                    "question": "What is the purpose of Arcium's mint-and-burn mechanism for the ARX token?",
                    "options": [
                        "To increase token supply indefinitely",
                        "To balance computational supply and demand",
                        "To eliminate staking requirements",
                        "To fund external marketing campaigns"
                    ],
                    "correct": 1
                },
                {
                    question: "What does Arcium ensure for user data?",
                    options: [
                        "Full and trustless privacy",
                        "Public access",
                        "Temporary encryption",
                        "Centralized storage"
                    ],
                    correct: 0
                },
                {
                    question: "Which industries can benefit from Arcium's technology?",
                    options: [
                        "AI, DeFi, and DePIN",
                        "Gaming only",
                        "Retail only",
                        "Telecommunications only"
                    ],
                    correct: 0
                },
                {
                    question: "What is the role of Arx nodes in the Arcium Network?",
                    options: [
                        "They store unencrypted data",
                        "They process encrypted data",
                        "They act as payment gateways",
                        "They manage user authentication"
                    ],
                    correct: 1
                },
                {
                    question: "What is a major benefit of Arcium for developers?",
                    options: [
                        "Increased transaction fees",
                        "Seamless integration of encrypted computing",
                        "Higher hardware costs",
                        "Complex programming requirements"
                    ],
                    correct: 1
                }
            ],
            splToken: [
                {
                    question: "What is the Confidential SPL Token Standard?",
                    options: [
                        "A new blockchain protocol",
                        "A unified token standard for confidential tokens, transfers, and trading on Solana",
                        "A cryptocurrency exchange",
                        "A wallet application"
                    ],
                    correct: 1
                },
                {
                    question: "What does the Confidential SPL Token Standard merge?",
                    options: [
                        "Bitcoin and Ethereum",
                        "SPL Token, Token-2022, Confidential Transfer Extension, and Arcium's encrypted MPC",
                        "Traditional banking and DeFi",
                        "AI and blockchain"
                    ],
                    correct: 1
                },
                {
                    question: "What is the primary limitation of Token-2022's Confidential Transfer model?",
                    options: [
                        "High transaction costs",
                        "Only allows EOAs to control confidential token accounts",
                        "Slow processing speed",
                        "Limited token support"
                    ],
                    correct: 1
                },
                {
                    question: "What does the Confidential SPL Token Standard solve for DeFi?",
                    options: [
                        "Token scarcity issues",
                        "The inability of smart contracts to interact with confidential balances",
                        "High gas fees",
                        "Slow transaction times"
                    ],
                    correct: 1
                },
               {
        "question": "Which feature of the Confidential SPL Token allows any SPL token to be used confidentially?",
        "options": [
            "Canonical confidential wrapped mints",
            "Public token wrapping",
            "Manual mint creation by users",
            "Centralized token conversion"
        ],
        "correct": 0
    },
                {
                    question: "What problem does Confidential SPL Token solve with token account creation?",
                    options: [
                        "High creation costs",
                        "Recipients must pre-create confidential token accounts",
                        "Slow creation process",
                        "Limited account types"
                    ],
                    correct: 1
                },
                {
                    question: "What are Canonical Confidential Mints?",
                    options: [
                        "New blockchain tokens",
                        "Confidential wrapped mints that allow any SPL token to be wrapped into a unified, confidential variant",
                        "Government-issued tokens",
                        "Private keys"
                    ],
                    correct: 1
                },
                {
                    question: "What is the Confidential Transfer Adapter?",
                    options: [
                        "A hardware device",
                        "A program that brings non-EOA support to Token-2022 Confidential Transfer Extension using Arcium",
                        "A wallet application",
                        "A blockchain protocol"
                    ],
                    correct: 1
                }
            ],
            mpcProtocols: [
                {
                    question: "What are Arcium's two main MPC protocols?",
                    options: [
                        "Bitcoin and Ethereum",
                        "Cerberus and Manticore",
                        "Public and Private",
                        "Fast and Slow"
                    ],
                    correct: 1
                },
                {
                    question: "What is Multi-Party Computation (MPC)?",
                    options: [
                        "A type of blockchain",
                        "An advanced encryption technique that enables multiple parties to collaborate on computing tasks while maintaining data privacy",
                        "A cryptocurrency",
                        "A database system"
                    ],
                    correct: 1
                },

                {
                    question: "What type of arithmetic does Cerberus support?",
                    options: [
                        "Only integer arithmetic",
                        "Floating-point arithmetic with high precision",
                        "Only boolean operations",
                        "Only string operations"
                    ],
                    correct: 1
                },
                {
                    question: "Which protocol is better for real-time applications?",
                    options: [
                        "Cerberus",
                        "Manticore",
                        "Both equally",
                        "Neither"
                    ],
                    correct: 1
                },
                {
        "question": "What is the primary security model under which Cerberus operates?",
        "options": [
            "Honest majority",
            "Dishonest majority",
            "Trusted dealer",
            "Fully homomorphic"
        ],
        "correct": 1
    },
    {
        "question": "Which feature of Cerberus ensures that data integrity is maintained during computations?",
        "options": [
            "Trusted dealer system",
            "Message Authentication Code (MAC)",
            "Honest-but-curious assumption",
            "Public key encryption"
        ],
        "correct": 1
    },
    {
        "question": "What is a key trade-off of Manticore compared to Cerberus?",
        "options": [
            "Higher security with slower speed",
            "Faster speed with lower security",
            "No encryption for better performance",
            "Centralized control for efficiency"
        ],
        "correct": 1
    },
    {
        "question": "In what type of environment is Manticore typically used?",
        "options": [
            "Permissionless settings",
            "Public blockchain networks",
            "Permissioned settings with trusted operators",
            "Non-encrypted data environments"
        ],
        "correct": 2
    },
                {
                    question: "Which protocol provides higher security guarantees?",
                    options: [
                        "Manticore",
                        "Cerberus",
                        "Both equally",
                        "Neither"
                    ],
                    correct: 1
                }
            ]
        };

        let currentQuestion = 0;
        let currentLevel = null;
        let score = 0;
        let timeLeft = 30;
        let timerInterval;
        // Track user answers to score at the end
        let userAnswers = []; // array of { selected: number }
        const levelSelection = document.getElementById('level-selection');
        const quizContent = document.getElementById('quiz-content');
        const questionElement = document.getElementById('question');
        const optionsElement = document.getElementById('options');
        const scoreElement = document.getElementById('score');
        const levelElement = document.getElementById('level');
        const timerElement = document.getElementById('timer');
        const progressElement = document.getElementById('progress');
        const nextBtn = document.getElementById('next-btn');
        const resultElement = document.getElementById('result');
        const restartBtn = document.getElementById('restart-btn');
        const achievementElement = document.getElementById('achievement');
        const levelBtnGeneral = document.getElementById('level-btn-general');
        const levelBtnSplToken = document.getElementById('level-btn-splToken');
        const levelBtnMpcProtocols = document.getElementById('level-btn-mpcProtocols');
        const totalHighScoreElement = document.getElementById('total-high-score');
        const achievements = {
            general: "Arcium Novice: You've mastered the basics!",
            splToken: "SPL Token Expert: You understand confidential tokens!",
            mpcProtocols: "MPC Master: You know Cerberus and Manticore!"
        };
        const maxScores = {
            general: 80, // 8 questions * 10 points
            splToken: 80, // 8 questions * 10 points
            mpcProtocols: 80 // 8 questions * 10 points
        };

        function updateHighScores() {
            const highScoreGeneral = parseInt(localStorage.getItem('highScoreGeneral')) || 0;
            const highScoreSplToken = parseInt(localStorage.getItem('highScoreSplToken')) || 0;
            const highScoreMpcProtocols = parseInt(localStorage.getItem('highScoreMpcProtocols')) || 0;
            levelBtnGeneral.textContent = `General Info (${highScoreGeneral})`;
            levelBtnSplToken.textContent = `Confidential SPL Token (${highScoreSplToken})`;
            levelBtnMpcProtocols.textContent = `Main MPC Protocols (${highScoreMpcProtocols})`;
            totalHighScoreElement.textContent = highScoreGeneral + highScoreSplToken + highScoreMpcProtocols;
        }

        function saveScore() {
            const highScoreKey = `highScore${currentLevel.charAt(0).toUpperCase() + currentLevel.slice(1)}`;
            const currentHighScore = parseInt(localStorage.getItem(highScoreKey)) || 0;
            if (score > currentHighScore) {
                localStorage.setItem(highScoreKey, score);
                updateHighScores();
            }
        }

        function startTimer() {
            timeLeft = 30;
            timerElement.textContent = `Time: ${timeLeft}s`;
            clearInterval(timerInterval);
            timerInterval = setInterval(() => {
                timeLeft--;
                timerElement.textContent = `Time: ${timeLeft}s`;
                if (timeLeft <= 0) {
                    clearInterval(timerInterval);
                    handleTimeout(); // Time out: disable options and record no answer
                }
            }, 1000);
        }

        function handleTimeout() {
            const options = optionsElement.children;
            const q = questions[currentLevel][currentQuestion];
            // Disable all options and prevent any further selection
            for (let i = 0; i < options.length; i++) {
                options[i].classList.add('disabled');
                options[i].style.pointerEvents = 'none';
            }
            // Record unanswered
            userAnswers[currentQuestion] = { selected: -1 };
            // Highlight the correct answer
            options[q.correct].classList.add('correct');
            nextBtn.style.display = 'block';
            if (currentQuestion === questions[currentLevel].length - 1) {
                finalizeResults();
            }
        }

        function loadQuestion() {
            const q = questions[currentLevel][currentQuestion];
            questionElement.textContent = q.question;
            const levelNames = {
                general: 'General Info',
                splToken: 'Confidential SPL Token',
                mpcProtocols: 'Main MPC Protocols'
            };
            levelElement.textContent = `Topic: ${levelNames[currentLevel]}`;
            console.log('Current level:', currentLevel, 'Question count:', questions[currentLevel].length);
            progressElement.textContent = `Question: ${currentQuestion + 1}/${questions[currentLevel].length}`;
            optionsElement.innerHTML = '';
            q.options.forEach((option, index) => {
                const btn = document.createElement('div');
                btn.classList.add('option');
                btn.textContent = option;
                btn.addEventListener('click', () => {
                    if (btn.classList.contains('disabled')) return;
                    // Remove selected class from all options
                    document.querySelectorAll('.option').forEach(opt => opt.classList.remove('selected'));
                    // Add selected class to clicked option
                    btn.classList.add('selected');
                });
                optionsElement.appendChild(btn);
            });
            nextBtn.textContent = 'Next Question';
            nextBtn.style.display = 'block';
            achievementElement.style.display = 'none';
            startTimer();
        }

        // No per-click answering; selection is stored on Next

        function storeSelections() {
            clearInterval(timerInterval);
            const options = optionsElement.children;
            let selectedIndex = -1;
            for (let i = 0; i < options.length; i++) {
                if (options[i].classList.contains('selected')) {
                    selectedIndex = i;
                    break;
                }
                options[i].classList.add('disabled');
                options[i].style.pointerEvents = 'none';
            }
            userAnswers[currentQuestion] = { selected: selectedIndex };
            
            // Check if answer is correct and update score immediately
            const q = questions[currentLevel][currentQuestion];
            if (selectedIndex === q.correct) {
                score += 10; // All topics now give 10 points per correct answer
                scoreElement.textContent = score;
            }
            
            // Highlight the correct answer
            options[q.correct].classList.add('correct');
        }


        function finalizeResults() {
            // Count correct and incorrect answers for display
            let correctCount = 0;
            let incorrectCount = 0;
            let total = questions[currentLevel].length;
            for (let i = 0; i < total; i++) {
                const q = questions[currentLevel][i];
                const ans = userAnswers[i];
                if (!ans || ans.selected === -1) { 
                    incorrectCount++; 
                    continue; 
                }
                if (ans.selected === q.correct) {
                    correctCount++;
                } else {
                    incorrectCount++;
                }
            }
            // Score is already calculated and displayed during the quiz
            // Show achievement and result
            achievementElement.textContent = achievements[currentLevel];
            achievementElement.style.display = 'block';
            nextBtn.style.display = 'none';
            saveScore();
            // Extend result summary with correct/incorrect counts
            questionElement.style.display = 'none';
            optionsElement.style.display = 'none';
            timerElement.style.display = 'none';
            levelElement.style.display = 'none';
            progressElement.style.display = 'none';
            const levelNames = {
                general: 'General Info',
                splToken: 'Confidential SPL Token',
                mpcProtocols: 'Main MPC Protocols'
            };
            resultElement.innerHTML = `Quiz Completed! Your Final Score: ${score}/${maxScores[currentLevel]}<br/>Topic: ${levelNames[currentLevel]}<br/>Correct: ${correctCount} | Incorrect: ${incorrectCount}`;
            resultElement.style.display = 'block';
            restartBtn.style.display = 'block';
        }

        function startQuiz(level) {
            currentLevel = level;
            currentQuestion = 0;
            score = 0;
            scoreElement.textContent = score;
            userAnswers = [];
            levelSelection.style.display = 'none';
            quizContent.style.display = 'block';
            loadQuestion();
        }

        nextBtn.addEventListener('click', () => {
            const q = questions[currentLevel][currentQuestion];
            storeSelections();
            currentQuestion++;
            if (currentQuestion < questions[currentLevel].length) {
                loadQuestion();
            } else {
                finalizeResults();
            }
        });

        document.querySelectorAll('.level-btn').forEach(btn => {
            btn.addEventListener('click', () => {
                startQuiz(btn.getAttribute('data-level'));
            });
        });

        restartBtn.addEventListener('click', () => {
            currentQuestion = 0;
            currentLevel = null;
            score = 0;
            scoreElement.textContent = score;
            userAnswers = [];
            levelSelection.style.display = 'block';
            quizContent.style.display = 'none';
            questionElement.style.display = 'block';
            optionsElement.style.display = 'flex';
            timerElement.style.display = 'block';
            levelElement.style.display = 'block';
            progressElement.textContent = '';
            resultElement.style.display = 'none';
            restartBtn.style.display = 'none';
            achievementElement.style.display = 'none';
            updateHighScores();
        });

        // Initial state: show level selection and load high scores
        levelSelection.style.display = 'block';
        quizContent.style.display = 'none';
        updateHighScores();
    </script>
</body>
</html>
